body {
    margin: 0; /* Убирает внешние отступы у body */
    padding: 0; /* Убирает внутренние отступы у body */
    font-family: Arial, sans-serif; /* Устанавливает шрифт для текста */
    background: linear-gradient(135deg, #0a1a3d 0%, #000000 100%); /* Задает градиентный фон от темно-синего к черному */
    color: white; /* Устанавливает цвет текста белым */
    display: flex; /* Использует flexbox для центрирования содержимого */
    justify-content: center; /* Центрирует содержимое по горизонтали */
    align-items: center; /* Центрирует содержимое по вертикали */
    min-height: 100vh; /* Минимальная высота body равна высоте экрана */
    overflow-y: auto; /* Добавляет прокрутку по вертикали, если контент не помещается */
    position: relative; /* Устанавливает позиционирование для дочерних элементов с position: absolute */
}

.background-overlay {
    position: fixed; /* Фиксирует элемент на месте, не прокручивается с контентом */
    top: 0; /* Привязывает верх элемента к верху экрана */
    left: 0; /* Привязывает левую сторону элемента к левому краю экрана */
    width: 100%; /* Ширина элемента равна 100% ширины экрана */
    height: 100%; /* Высота элемента равна 100% высоты экрана */
    z-index: -1; /* Помещает элемент позади основного контента */
}

.stones-bottom {
    position: absolute; /* Позиционирует элемент относительно ближайшего родителя с position: relative/absolute/fixed */
    bottom: 0; /* Привязывает низ элемента к нижнему краю родителя */
    left: 0; /* Привязывает левую сторону элемента к левому краю родителя */
    width: 100%; /* Ширина элемента равна 100% ширины родителя */
    height: auto; /* Высота подстраивается под содержимое (изображение) */
    z-index: 1; /* Помещает элемент поверх других с меньшим z-index */
}

.crack {
    position: absolute; /* Позиционирует элемент относительно ближайшего родителя с position: relative/absolute/fixed */
    opacity: 0.3; /* Устанавливает прозрачность элемента (30%) */
    z-index: 0; /* Помещает элемент на задний план */
}

.crack-1 {
    top: 10%; /* Отступ сверху 10% от высоты родителя */
    left: 20%; /* Отступ слева 20% от ширины родителя */
    width: 150px; /* Ширина элемента 150 пикселей */
    transform: rotate(45deg); /* Поворачивает элемент на 45 градусов */
}

.crack-2 {
    top: 50%; /* Отступ сверху 50% от высоты родителя */
    left: 60%; /* Отступ слева 60% от ширины родителя */
    width: 200px; /* Ширина элемента 200 пикселей */
    transform: rotate(-30deg); /* Поворачивает элемент на -30 градусов */
}

.crack-3 {
    top: 70%; /* Отступ сверху 70% от высоты родителя */
    left: 10%; /* Отступ слева 10% от ширины родителя */
    width: 180px; /* Ширина элемента 180 пикселей */
    transform: rotate(90deg); /* Поворачивает элемент на 90 градусов */
}

.container {
    width: 100%; /* Ширина элемента 100% от родителя */
    max-width: 340px; /* Максимальная ширина 340 пикселей */
    padding: 20px; /* Внутренний отступ 20 пикселей со всех сторон */
    box-sizing: border-box; /* Включает padding и border в общую ширину/высоту */
    position: relative; /* Устанавливает позиционирование для дочерних элементов с position: absolute */
    z-index: 2; /* Помещает элемент поверх фона */
    display: flex; /* Использует flexbox для центрирования содержимого */
    flex-direction: column; /* Располагает дочерние элементы в столбец */
    align-items: center; /* Центрирует дочерние элементы по горизонтали */
    justify-content: center; /* Центрирует дочерние элементы по вертикали */
    min-height: 100vh; /* Минимальная высота равна высоте экрана */
    margin: 0 auto; /* Центрирует контейнер по горизонтали */
    text-align: center; /* Центрирует текст внутри контейнера */
}

.button-grid {
    display: grid; /* Использует grid для создания сетки */
    grid-template-columns: repeat(5, 1fr); /* Создает 5 колонок одинаковой ширины */
    gap: 10px; /* Отступ между ячейками сетки 10 пикселей */
    width: 300px; /* Ширина сетки 300 пикселей */
    height: 300px; /* Высота сетки 300 пикселей */
    background: #1e2a44; /* Цвет фона сетки */
    padding: 15px; /* Внутренний отступ 15 пикселей */
    border-radius: 20px; /* Скругление углов 20 пикселей */
    position: relative; /* Устанавливает позиционирование для дочерних элементов с position: absolute */
    overflow: hidden; /* Скрывает содержимое, выходящее за границы */
    opacity: 0; /* Начальная прозрачность 0 (для анимации появления) */
    animation: fadeIn 0.5s ease forwards; /* Анимация появления (fadeIn) длительностью 0.5 секунды */
    border: 3px solid #3a5fb3; /* Граница толщиной 3 пикселя, сплошная, цвет #3a5fb3 */
    box-shadow: 0 0 15px rgba(58, 95, 179, 0.5); /* Тень вокруг сетки */
    margin: 0 auto; /* Центрирует сетку по горизонтали */
    box-sizing: border-box; /* Включает padding и border в общую ширину/высоту */
}

.button-grid.loading::before {
    content: ''; /* Пустое содержимое для псевдоэлемента */
    position: absolute; /* Позиционирует псевдоэлемент относительно .button-grid */
    top: 0; /* Привязывает верх псевдоэлемента к верху родителя */
    left: -100%; /* Начальная позиция слева за пределами родителя */
    width: 100%; /* Ширина псевдоэлемента 100% от родителя */
    height: 100%; /* Высота псевдоэлемента 100% от родителя */
    background: linear-gradient(to right, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%); /* Градиент для эффекта блика */
    animation: lightSwipe 1.5s linear infinite; /* Анимация блика (lightSwipe) длительностью 1.5 секунды, бесконечная */
}

@keyframes lightSwipe {
    0% { left: -100%; } /* Начальная позиция блика слева за пределами */
    100% { left: 100%; } /* Конечная позиция блика справа за пределами */
}

@keyframes fadeIn {
    from { opacity: 0; } /* Начальная прозрачность 0 */
    to { opacity: 1; } /* Конечная прозрачность 1 */
}

.button {
    position: relative; /* Устанавливает позиционирование для дочерних элементов */
    width: 100%; /* Ширина ячейки 100% от доступного пространства */
    padding-top: 100%; /* Соотношение сторон 1:1 (квадрат) */
    cursor: pointer; /* Курсор в виде указателя при наведении */
    overflow: hidden; /* Скрывает содержимое, выходящее за границы */
}

.button::before {
    content: ''; /* Пустое содержимое для псевдоэлемента */
    position: absolute; /* Позиционирует псевдоэлемент относительно .button */
    top: 0; /* Привязывает верх псевдоэлемента к верху ячейки */
    left: 0; /* Привязывает левую сторону псевдоэлемента к левому краю ячейки */
    width: 100%; /* Ширина псевдоэлемента 100% от ячейки */
    height: 100%; /* Высота псевдоэлемента 100% от ячейки */
    background: linear-gradient(135deg, #2a3f7a, #1e2a44); /* Градиентный фон ячейки */
    border: 1px solid #3a5fb3; /* Граница ячейки толщиной 1 пиксель, сплошная, цвет #3a5fb3 */
    border-radius: 10px; /* Скругление углов ячейки 10 пикселей */
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.4); /* Тень ячейки */
    z-index: 0; /* Помещает псевдоэлемент (ячейку) позади звезды */
}

.button.safe::before {
    animation: shrinkToStar 0.3s ease forwards; /* Анимация исчезновения ячейки длительностью 0.3 секунды */
}

@keyframes shrinkToStar {
    0% { transform: scale(1); opacity: 1; } /* Начальный масштаб ячейки 100%, полностью видимая */
    100% { transform: scale(0); opacity: 0; } /* Конечный масштаб ячейки 0%, полностью прозрачная */
}

.star {
    position: absolute; /* Позиционирует звезду относительно ячейки */
    top: 50%; /* Центрирует звезду по вертикали (с учетом transform) */
    left: 50%; /* Центрирует звезду по горизонтали (с учетом transform) */
    transform: translate(-50%, -50%) scale(0); /* Изначально звезда в центре ячейки, но с масштабом 0 */
    width: 100%; /* Ширина звезды 100% от ячейки */
    height: 100%; /* Высота звезды 100% от ячейки */
    opacity: 0; /* Изначально звезда полностью прозрачная */
    z-index: 1; /* Помещает звезду на передний план */
}

.star.hidden {
    transform: translate(-50%, -50%) scale(0); /* Сбрасывает масштаб звезды при скрытии */
    opacity: 0; /* Сбрасывает прозрачность при скрытии */
}

.button.safe .star:not(.star-animated) {
    animation: growStar 0.4s ease forwards 0.3s; /* Анимация увеличения звезды длительностью 0.4 секунды, с задержкой 0.3 секунды (после исчезновения ячейки) */
}

.star.star-animated {
    transform: translate(-50%, -50%) scale(1); /* Сохраняет конечное состояние звезды после анимации */
    opacity: 1; /* Убедимся, что звезда остается видимой */
}

@keyframes growStar {
    0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } /* Начальный масштаб звезды 0%, полностью прозрачная */
    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; } /* Конечный масштаб звезды 100%, полностью видимая */
}

.user-info {
    margin: 20px 0; /* Внешний отступ сверху и снизу 20 пикселей */
    padding: 16px; /* Внутренний отступ 16 пикселей */
    background-color: rgba(20, 27, 47, 0.85); /* Цвет фона с прозрачностью */
    border-radius: 15px; /* Скругление углов 15 пикселей */
    text-align: center; /* Центрирует текст внутри блока */
    font-size: 16px; /* Размер шрифта 16 пикселей */
    width: 300px; /* Ширина блока 300 пикселей (такая же, как у .button-grid) */
    max-width: 300px; /* Максимальная ширина 300 пикселей, чтобы не растягивался */
    margin-left: auto !important; /* Центрирует блок по горизонтали (левая сторона), приоритетный стиль */
    margin-right: auto !important; /* Центрирует блок по горизонтали (правая сторона), приоритетный стиль */
    display: flex; /* Использует flexbox для центрирования содержимого */
    justify-content: center !important; /* Центрирует содержимое по горизонтали, приоритетный стиль */
    align-items: center !important; /* Центрирует содержимое по вертикали, приоритетный стиль */
    box-sizing: border-box; /* Включает padding и border в общую ширину/высоту */
}

.bomb-label {
    color: #ffffff; /* Цвет текста белый */
    font-weight: bold; /* Делает текст жирным */
}

.bomb-amount {
    display: flex; /* Использует flexbox для расположения содержимого */
    flex-direction: column; /* Располагает элементы в столбец */
    align-items: center; /* Центрирует элементы по горизонтали */
    gap: 12px; /* Отступ между элементами 12 пикселей */
    margin: 20px 0; /* Внешний отступ сверху и снизу 20 пикселей */
    background-color: rgba(20, 27, 47, 0.85); /* Цвет фона с прозрачностью */
    padding: 20px; /* Внутренний отступ 20 пикселей */
    border-radius: 15px; /* Скругление углов 15 пикселей */
    width: 300px; /* Ширина блока 300 пикселей */
    box-sizing: border-box; /* Включает padding и border в общую ширину/высоту */
    margin-left: auto; /* Центрирует блок по горизонтали (левая сторона) */
    margin-right: auto; /* Центрирует блок по горизонтали (правая сторона) */
}

.bomb-controls {
    display: flex; /* Использует flexbox для расположения содержимого */
    justify-content: space-between; /* Распределяет элементы с равными промежутками */
    align-items: center; /* Центрирует элементы по вертикали */
    width: 100%; /* Ширина блока 100% от родителя */
    background-color: #0a0d2d; /* Цвет фона */
    padding: 10px; /* Внутренний отступ 10 пикселей */
    border-radius: 10px; /* Скругление углов 10 пикселей */
}

.minus, .plus {
    background-color: #1e3c72; /* Цвет фона кнопок */
    border: none; /* Убирает границу у кнопок */
    border-radius: 10px; /* Скругление углов кнопок 10 пикселей */
    width: 40px; /* Ширина кнопок 40 пикселей */
    height: 40px; /* Высота кнопок 40 пикселей */
    color: white; /* Цвет текста кнопок белый */
    font-size: 20px; /* Размер шрифта 20 пикселей */
    cursor: pointer; /* Курсор в виде указателя при наведении */
    transition: background-color 0.2s; /* Плавное изменение цвета фона при наведении (0.2 секунды) */
}

.minus:hover, .plus:hover {
    background-color: #2a5298; /* Цвет фона кнопок при наведении */
}

.amount {
    font-size: 18px; /* Размер шрифта 18 пикселей */
    font-weight: bold; /* Делает текст жирным */
    color: #ffffff; /* Цвет текста белый */
}

.signal-button {
    width: 100%; /* Ширина кнопки 100% от родителя */
    background: linear-gradient(90deg, #0f8ae4, #0855c2); /* Градиентный фон кнопки */
    border: none; /* Убирает границу у кнопки */
    border-radius: 10px; /* Скругление углов кнопки 10 пикселей */
    padding: 14px; /* Внутренний отступ 14 пикселей */
    font-size: 18px; /* Размер шрифта 18 пикселей */
    color: white; /* Цвет текста белый */
    cursor: pointer; /* Курсор в виде указателя при наведении */
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3); /* Тень кнопки */
    transition: transform 0.2s, opacity 0.2s; /* Плавное изменение масштаба и прозрачности (0.2 секунды) */
}

.signal-button:hover {
    transform: scale(1.03); /* Увеличивает кнопку на 3% при наведении */
    opacity: 0.95; /* Уменьшает прозрачность до 95% при наведении */
}

.signal-button:disabled {
    background: #555; /* Цвет фона кнопки в отключенном состоянии */
    cursor: not-allowed; /* Курсор в виде "запрещено" при отключенной кнопке */
}